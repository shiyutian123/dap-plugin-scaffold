<div class="planAll">
        <div nz-row class="search">
                <div nz-col nzSpan="2"></div>
                <div nz-col nzSpan="5">
                    <span nz-col nzSpan="6">年份：</span>
                    <!-- <nz-year-picker style="max-width:150px;min-width: 120px;" [(ngModel)]="searchInfo.year" (ngModelChange)="onChangeYear($event)" nzPlaceHolder="选择年份"></nz-year-picker> -->
                    <input nz-input placeholder="填写年份" [(ngModel)]="searchInfo.year" />
                </div>
                <!-- <div nz-col nzSpan="4">
                    <span nz-col nzSpan="6">基地：</span>
                    <input nz-input placeholder="填写基地" [(ngModel)]="searchInfo.base" />
                </div> -->
                <div nz-col nzSpan="5">
                    <span nz-col nzSpan="6">组织：</span>
                    <input nz-input placeholder="填写组织" [(ngModel)]="searchInfo.orgName" />
                </div>
                <div nz-col nzSpan="5">
                    <span nz-col nzSpan="6">工位：</span>
                    <input nz-input placeholder="填写工位" [(ngModel)]="searchInfo.station" />
                </div>
                <div nz-col nzSpan="5">
                        <span nz-col nzSpan="6">姓名：</span>
                        <input nz-input placeholder="填写姓名" [(ngModel)]="searchInfo.userName" />
                </div>
                <div nz-col nzSpan="2"></div>
                <!-- <div nz-col nzSpan="4">
                    <span nz-col nzSpan="6">工段：</span>
                    <input nz-input placeholder="填写工段" [(ngModel)]="searchInfo.workItemValue" />
                </div> -->
        </div>
        <div class="back">
                <span class="page-tag title">{{pageTitle}}列表</span>
                <div>
                    <button nz-button nzType="primary" (click)="derive()" >导出<a id="excelLink"></a></button>
                    <button style="margin-left: 10px;margin-right: 20px;" nz-button nzType="primary" (click)="search()">查询</button>
                </div>
            </div>
        <div class="showTable">   
                <nz-table class="table" #basicTable 
                [nzData]="planTableData" 
                [nzFrontPagination]="false" 
                [nzTotal]="page.total" 
                [nzPageIndex]="page.pageIndex" 
                [nzPageSize]="page.pageSize" 
                [nzShowTotal]='totalPage'
                [nzPageSizeOptions]="[ 10, 20, 30, 40, 50 ]"
                [nzShowSizeChanger]="true"
                (nzPageSizeChange)="pageSizeChange($event)"
                (nzPageIndexChange)="pageIndexChange($event)"
                [nzSize]="'small'"
                nzBordered
                [nzScroll]="{ y: 'calc(100vh - 450px)' }">
                    <thead>
                      <tr>
                            <th nzWidth="6%" style="min-width: 60px;">#</th>
                            <!-- <th nzWidth="8%">基地</th> -->
                            <th nzWidth="8%">姓名</th>
                            <th nzWidth="8%">工号</th>
                            <th nzWidth="8%">组织</th>
                            <th nzWidth="8%">日期</th>
                            <th nzWidth="8%">班次</th>
                            <th nzWidth="8%">工段</th>
                            <th nzWidth="8%">班组</th>
                            <th nzWidth="9%">计划工位</th>
                            <th nzwidth="9%">实际工位</th>
                            <th nzWidth="10%">实际完成日期</th>
                            <th nzWidth="10%">执行状态</th>
                      </tr>
                    </thead>
                    <tbody>
                        <tr *ngFor="let planItem of planTableData;let i = index;">
                            <td>{{(page.pageIndex - 1) * page.pageSize + i + 1}}</td>
                            <!-- <td>{{planItem.base}}</td> -->
                            <td>{{planItem.userName}}</td>
                            <td>{{planItem.creator}}</td>
                            <td>{{planItem.orgName}}</td>
                            <td>{{planItem.plan_date}}</td>
                            <td>{{planItem.shift_name}}</td>
                            <td>{{planItem.workshop_section_name}}</td>
                            <td>{{planItem.team_name}}</td>
                            <td>{{planItem.station}}</td>
                            <td>{{planItem.real_station}}</td>
                            <td>{{planItem.finish_date}}</td>
                            <td>
                                <nz-tag *ngIf="planItem.execute_status === 'COMPLETE'" [nzColor]="'#87d068'">已完成</nz-tag>
                                <nz-tag *ngIf="planItem.execute_status === 'DELAY'" [nzColor]="'#f50'">延期完成</nz-tag>
                                <nz-tag *ngIf="planItem.execute_status === 'WAIT'" [nzColor]="'#108ee9'">待执行</nz-tag>
                            </td>
                        </tr>
                    </tbody>
                </nz-table>
            </div>
</div>

<ng-template #totalPage>
        共{{page.total}}条
      </ng-template>